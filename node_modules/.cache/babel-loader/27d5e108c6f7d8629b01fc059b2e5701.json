{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thang\\\\Downloads\\\\Code structure\\\\src\\\\modules\\\\product\\\\ListItem\\\\ViewDetailPage.tsx\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from 'react-router';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchThunk } from '../../common/redux/thunk';\nimport { API_PATHS } from '../../../configs/api';\nimport { RESPONSE_STATUS_SUCCESS } from '../../../utils/httpResponseCode';\nimport ViewDetail from './ViewDetail';\nimport { updateProduct } from '../redux/reduce';\nimport { toast } from 'react-toastify';\nimport { push } from 'connected-react-router';\nimport { ROUTES } from '../../../configs/routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewDetailPage() {\n  _s();\n\n  const {\n    state\n  } = useLocation();\n  const [id, setId] = useState();\n  const [data, setData] = useState();\n  const item = Object.values(state);\n  useEffect(() => {\n    item.map(dataItem => setId(dataItem.id));\n  }, []);\n  const dispatch = useDispatch();\n  const getProduct = useCallback(async id => {\n    const json = await dispatch(fetchThunk(`${API_PATHS.getProduct}/${id}`, 'get'));\n\n    if ((json === null || json === void 0 ? void 0 : json.code) === RESPONSE_STATUS_SUCCESS) {\n      setData(json.data);\n      return;\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    id && getProduct(id);\n  }, [id, getProduct]);\n  const onSubmit = useCallback(async values => {\n    const json = await dispatch(fetchThunk(API_PATHS.updateProduct, 'put', values));\n\n    if ((json === null || json === void 0 ? void 0 : json.code) === RESPONSE_STATUS_SUCCESS) {\n      toast.success('Cập nhật sản phẩm thành công');\n      dispatch(updateProduct(json.data));\n      dispatch(push(ROUTES.product));\n      return;\n    }\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card d-flex justify-content-center align-items-center\",\n    style: {\n      width: '100%'\n    },\n    children: data && /*#__PURE__*/_jsxDEV(ViewDetail, {\n      data: data,\n      onSubmitForm: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewDetailPage, \"VkMOcPw+klxape1IavJJqQeXs1M=\", false, function () {\n  return [useLocation, useDispatch];\n});\n\n_c = ViewDetailPage;\nexport default ViewDetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewDetailPage\");","map":{"version":3,"sources":["C:/Users/thang/Downloads/Code structure/src/modules/product/ListItem/ViewDetailPage.tsx"],"names":["useLocation","React","useCallback","useEffect","useState","useDispatch","fetchThunk","API_PATHS","RESPONSE_STATUS_SUCCESS","ViewDetail","updateProduct","toast","push","ROUTES","ViewDetailPage","state","id","setId","data","setData","item","Object","values","map","dataItem","dispatch","getProduct","json","code","onSubmit","success","product","width"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,cAA5B;AAEA,OAAOC,KAAP,IAAoCC,WAApC,EAAiDC,SAAjD,EAA4DC,QAA5D,QAA4E,OAA5E;AACA,SAASC,WAAT,QAA4B,aAA5B;AAIA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,uBAAT,QAAwC,iCAAxC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,MAAT,QAAuB,yBAAvB;;;AAEA,SAASC,cAAT,GAA0B;AAAA;;AACxB,QAAM;AAAEC,IAAAA;AAAF,MAAYf,WAAW,EAA7B;AACA,QAAM,CAACgB,EAAD,EAAKC,KAAL,IAAcb,QAAQ,EAA5B;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,EAAhC;AAEA,QAAMgB,IAAe,GAAGC,MAAM,CAACC,MAAP,CAAcP,KAAd,CAAxB;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,IAAI,CAACG,GAAL,CAAUC,QAAD,IAAuBP,KAAK,CAACO,QAAQ,CAACR,EAAV,CAArC;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAMS,QAAQ,GAAGpB,WAAW,EAA5B;AACA,QAAMqB,UAAU,GAAGxB,WAAW,CAC5B,MAAOc,EAAP,IAAsB;AACpB,UAAMW,IAAI,GAAG,MAAMF,QAAQ,CAACnB,UAAU,CAAE,GAAEC,SAAS,CAACmB,UAAW,IAAGV,EAAG,EAA/B,EAAkC,KAAlC,CAAX,CAA3B;;AAEA,QAAI,CAAAW,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,IAAN,MAAepB,uBAAnB,EAA4C;AAC1CW,MAAAA,OAAO,CAACQ,IAAI,CAACT,IAAN,CAAP;AACA;AACD;AACF,GAR2B,EAS5B,CAACO,QAAD,CAT4B,CAA9B;AAYAtB,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,EAAE,IAAIU,UAAU,CAACV,EAAD,CAAhB;AACD,GAFQ,EAEN,CAACA,EAAD,EAAKU,UAAL,CAFM,CAAT;AAIA,QAAMG,QAAQ,GAAG3B,WAAW,CAC1B,MAAOoB,MAAP,IAAiC;AAC/B,UAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACnB,UAAU,CAACC,SAAS,CAACG,aAAX,EAA0B,KAA1B,EAAiCY,MAAjC,CAAX,CAA3B;;AACA,QAAI,CAAAK,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,IAAN,MAAepB,uBAAnB,EAA4C;AAC1CG,MAAAA,KAAK,CAACmB,OAAN,CAAc,8BAAd;AACAL,MAAAA,QAAQ,CAACf,aAAa,CAACiB,IAAI,CAACT,IAAN,CAAd,CAAR;AACAO,MAAAA,QAAQ,CAACb,IAAI,CAACC,MAAM,CAACkB,OAAR,CAAL,CAAR;AACA;AACD;AACF,GATyB,EAU1B,CAACN,QAAD,CAV0B,CAA5B;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,uDAAf;AAAuE,IAAA,KAAK,EAAE;AAAEO,MAAAA,KAAK,EAAE;AAAT,KAA9E;AAAA,cACGd,IAAI,iBAAI,QAAC,UAAD;AAAY,MAAA,IAAI,EAAEA,IAAlB;AAAwB,MAAA,YAAY,EAAEW;AAAtC;AAAA;AAAA;AAAA;AAAA;AADX;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA9CQf,c;UACWd,W,EAUDK,W;;;KAXVS,c;AAgDT,eAAeA,cAAf","sourcesContent":["import { useLocation } from 'react-router';\r\nimport { Product, UpdateProduct } from '../../../models/product';\r\nimport React, { ChangeEventHandler, useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppState } from '../../../redux/reducer';\r\nimport { Action } from 'typesafe-actions';\r\nimport { fetchThunk } from '../../common/redux/thunk';\r\nimport { API_PATHS } from '../../../configs/api';\r\nimport { RESPONSE_STATUS_SUCCESS } from '../../../utils/httpResponseCode';\r\nimport ViewDetail from './ViewDetail';\r\nimport { updateProduct } from '../redux/reduce';\r\nimport { toast } from 'react-toastify';\r\nimport { push } from 'connected-react-router';\r\nimport { ROUTES } from '../../../configs/routes';\r\n\r\nfunction ViewDetailPage() {\r\n  const { state } = useLocation<Product>();\r\n  const [id, setId] = useState<number>();\r\n  const [data, setData] = useState<Product>();\r\n\r\n  const item: Product[] = Object.values(state);\r\n\r\n  useEffect(() => {\r\n    item.map((dataItem: Product) => setId(dataItem.id));\r\n  }, []);\r\n\r\n  const dispatch = useDispatch<ThunkDispatch<AppState, null, Action<string>>>();\r\n  const getProduct = useCallback(\r\n    async (id: number) => {\r\n      const json = await dispatch(fetchThunk(`${API_PATHS.getProduct}/${id}`, 'get'));\r\n\r\n      if (json?.code === RESPONSE_STATUS_SUCCESS) {\r\n        setData(json.data);\r\n        return;\r\n      }\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    id && getProduct(id);\r\n  }, [id, getProduct]);\r\n\r\n  const onSubmit = useCallback(\r\n    async (values: UpdateProduct) => {\r\n      const json = await dispatch(fetchThunk(API_PATHS.updateProduct, 'put', values));\r\n      if (json?.code === RESPONSE_STATUS_SUCCESS) {\r\n        toast.success('Cập nhật sản phẩm thành công');\r\n        dispatch(updateProduct(json.data));\r\n        dispatch(push(ROUTES.product));\r\n        return;\r\n      }\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <div className=\"card d-flex justify-content-center align-items-center\" style={{ width: '100%' }}>\r\n      {data && <ViewDetail data={data} onSubmitForm={onSubmit} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewDetailPage;\r\n"]},"metadata":{},"sourceType":"module"}