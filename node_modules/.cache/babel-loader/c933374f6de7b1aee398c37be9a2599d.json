{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"align\", \"children\", \"colIndex\", \"colDef\", \"cellMode\", \"field\", \"formattedValue\", \"hasFocus\", \"height\", \"isEditable\", \"isSelected\", \"rowId\", \"tabIndex\", \"value\", \"width\", \"className\", \"showRightBorder\", \"extendRowFullWidth\", \"row\", \"colSpan\", \"disableDragEvents\", \"onClick\", \"onDoubleClick\", \"onMouseDown\", \"onMouseUp\", \"onMouseOver\", \"onKeyDown\", \"onKeyUp\", \"onDragEnter\", \"onDragOver\"];\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_useForkRef as useForkRef, unstable_composeClasses as composeClasses, unstable_ownerDocument as ownerDocument, unstable_capitalize as capitalize } from '@mui/utils';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { GridCellModes } from '../../models';\nimport { useGridApiContext } from '../../hooks/utils/useGridApiContext';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { gridFocusCellSelector } from '../../hooks/features/focus/gridFocusStateSelector';\nimport { jsx as _jsx } from \"react/jsx-runtime\"; // Based on https://stackoverflow.com/a/59518678\n\nlet cachedSupportsPreventScroll;\n\nfunction doesSupportPreventScroll() {\n  if (cachedSupportsPreventScroll === undefined) {\n    document.createElement('div').focus({\n      get preventScroll() {\n        cachedSupportsPreventScroll = true;\n        return false;\n      }\n\n    });\n  }\n\n  return cachedSupportsPreventScroll;\n}\n\nconst useUtilityClasses = ownerState => {\n  const {\n    align,\n    showRightBorder,\n    isEditable,\n    isSelected,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['cell', `cell--text${capitalize(align)}`, isEditable && 'cell--editable', isSelected && 'selected', showRightBorder && 'cell--withRightBorder', 'withBorderColor'],\n    content: ['cellContent']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\n\nlet warnedOnce = false;\nconst GridCell = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _rootProps$experiment;\n\n  const {\n    align,\n    children,\n    colIndex,\n    cellMode,\n    field,\n    formattedValue,\n    hasFocus,\n    height,\n    isEditable,\n    isSelected,\n    rowId,\n    tabIndex,\n    value,\n    width,\n    className,\n    showRightBorder,\n    colSpan,\n    disableDragEvents,\n    onClick,\n    onDoubleClick,\n    onMouseDown,\n    onMouseUp,\n    onMouseOver,\n    onKeyDown,\n    onKeyUp,\n    onDragEnter,\n    onDragOver\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const valueToRender = formattedValue == null ? value : formattedValue;\n  const cellRef = React.useRef(null);\n  const handleRef = useForkRef(ref, cellRef);\n  const focusElementRef = React.useRef(null);\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const ownerState = {\n    align,\n    showRightBorder,\n    isEditable,\n    classes: rootProps.classes,\n    isSelected\n  };\n  const classes = useUtilityClasses(ownerState);\n  const publishMouseUp = React.useCallback(eventName => event => {\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n  }, [apiRef, field, onMouseUp, rowId]);\n  const publishMouseDown = React.useCallback(eventName => event => {\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  }, [apiRef, field, onMouseDown, rowId]);\n  const publish = React.useCallback((eventName, propHandler) => event => {\n    // The row might have been deleted during the click\n    if (!apiRef.current.getRow(rowId)) {\n      return;\n    }\n\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n\n    if (propHandler) {\n      propHandler(event);\n    }\n  }, [apiRef, field, rowId]);\n  const style = {\n    minWidth: width,\n    maxWidth: width,\n    minHeight: height,\n    maxHeight: height === 'auto' ? 'none' : height // max-height doesn't support \"auto\"\n\n  };\n  React.useEffect(() => {\n    if (!hasFocus || cellMode === GridCellModes.Edit) {\n      return;\n    }\n\n    const doc = ownerDocument(apiRef.current.rootElementRef.current);\n\n    if (cellRef.current && !cellRef.current.contains(doc.activeElement)) {\n      const focusableElement = cellRef.current.querySelector('[tabindex=\"0\"]');\n      const elementToFocus = focusElementRef.current || focusableElement || cellRef.current;\n\n      if (doesSupportPreventScroll()) {\n        elementToFocus.focus({\n          preventScroll: true\n        });\n      } else {\n        const scrollPosition = apiRef.current.getScrollPosition();\n        elementToFocus.focus();\n        apiRef.current.scroll(scrollPosition);\n      }\n    }\n  }, [hasFocus, cellMode, apiRef]);\n  let handleFocus = other.onFocus;\n\n  if (process.env.NODE_ENV === 'test' && (_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.warnIfFocusStateIsNotSynced) {\n    handleFocus = event => {\n      const focusedCell = gridFocusCellSelector(apiRef);\n\n      if ((focusedCell == null ? void 0 : focusedCell.id) === rowId && focusedCell.field === field) {\n        if (typeof other.onFocus === 'function') {\n          other.onFocus(event);\n        }\n\n        return;\n      }\n\n      if (!warnedOnce) {\n        console.warn([`MUI: The cell with id=${rowId} and field=${field} received focus.`, `According to the state, the focus should be at id=${focusedCell == null ? void 0 : focusedCell.id}, field=${focusedCell == null ? void 0 : focusedCell.field}.`, \"Not syncing the state may cause unwanted behaviors since the `cellFocusIn` event won't be fired.\", 'Call `fireEvent.mouseUp` before the `fireEvent.click` to sync the focus with the state.'].join('\\n'));\n        warnedOnce = true;\n      }\n    };\n  }\n\n  const column = apiRef.current.getColumn(field);\n  const managesOwnFocus = column.type === 'actions';\n\n  const renderChildren = () => {\n    if (children === undefined) {\n      const valueString = valueToRender == null ? void 0 : valueToRender.toString();\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: classes.content,\n        title: valueString,\n        children: valueString\n      });\n    }\n\n    if ( /*#__PURE__*/React.isValidElement(children) && managesOwnFocus) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        focusElementRef\n      });\n    }\n\n    return children;\n  };\n\n  const draggableEventHandlers = disableDragEvents ? null : {\n    onDragEnter: publish('cellDragEnter', onDragEnter),\n    onDragOver: publish('cellDragOver', onDragOver)\n  };\n  return /*#__PURE__*/_jsx(\"div\", _extends({\n    ref: handleRef,\n    className: clsx(className, classes.root),\n    role: \"cell\",\n    \"data-field\": field,\n    \"data-colindex\": colIndex,\n    \"aria-colindex\": colIndex + 1,\n    \"aria-colspan\": colSpan,\n    style: style,\n    tabIndex: (cellMode === 'view' || !isEditable) && !managesOwnFocus ? tabIndex : -1,\n    onClick: publish('cellClick', onClick),\n    onDoubleClick: publish('cellDoubleClick', onDoubleClick),\n    onMouseOver: publish('cellMouseOver', onMouseOver),\n    onMouseDown: publishMouseDown('cellMouseDown'),\n    onMouseUp: publishMouseUp('cellMouseUp'),\n    onKeyDown: publish('cellKeyDown', onKeyDown),\n    onKeyUp: publish('cellKeyUp', onKeyUp)\n  }, draggableEventHandlers, other, {\n    onFocus: handleFocus,\n    children: renderChildren()\n  }));\n});\nconst MemoizedCell = /*#__PURE__*/React.memo(GridCell);\nprocess.env.NODE_ENV !== \"production\" ? GridCell.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  align: PropTypes.oneOf(['center', 'left', 'right']),\n  cellMode: PropTypes.oneOf(['edit', 'view']),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colIndex: PropTypes.number,\n  colSpan: PropTypes.number,\n  disableDragEvents: PropTypes.bool,\n  field: PropTypes.string,\n  formattedValue: PropTypes.any,\n  hasFocus: PropTypes.bool,\n  height: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  isEditable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  showRightBorder: PropTypes.bool,\n  tabIndex: PropTypes.oneOf([-1, 0]),\n  value: PropTypes.any,\n  width: PropTypes.number\n} : void 0;\nexport { MemoizedCell as GridCell };","map":{"version":3,"sources":["C:/Users/thang/Downloads/Code structure/node_modules/@mui/x-data-grid/components/cell/GridCell.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","PropTypes","clsx","unstable_useForkRef","useForkRef","unstable_composeClasses","composeClasses","unstable_ownerDocument","ownerDocument","unstable_capitalize","capitalize","getDataGridUtilityClass","GridCellModes","useGridApiContext","useGridRootProps","gridFocusCellSelector","jsx","_jsx","cachedSupportsPreventScroll","doesSupportPreventScroll","undefined","document","createElement","focus","preventScroll","useUtilityClasses","ownerState","align","showRightBorder","isEditable","isSelected","classes","slots","root","content","warnedOnce","GridCell","forwardRef","props","ref","_rootProps$experiment","children","colIndex","cellMode","field","formattedValue","hasFocus","height","rowId","tabIndex","value","width","className","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","other","valueToRender","cellRef","useRef","handleRef","focusElementRef","apiRef","rootProps","publishMouseUp","useCallback","eventName","event","params","current","getCellParams","publishEvent","publishMouseDown","publish","propHandler","getRow","style","minWidth","maxWidth","minHeight","maxHeight","useEffect","Edit","doc","rootElementRef","contains","activeElement","focusableElement","querySelector","elementToFocus","scrollPosition","getScrollPosition","scroll","handleFocus","onFocus","process","env","NODE_ENV","experimentalFeatures","warnIfFocusStateIsNotSynced","focusedCell","id","console","warn","join","column","getColumn","managesOwnFocus","type","renderChildren","valueString","toString","title","isValidElement","cloneElement","draggableEventHandlers","role","MemoizedCell","memo","propTypes","oneOf","node","string","number","bool","any","oneOfType","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"align\", \"children\", \"colIndex\", \"colDef\", \"cellMode\", \"field\", \"formattedValue\", \"hasFocus\", \"height\", \"isEditable\", \"isSelected\", \"rowId\", \"tabIndex\", \"value\", \"width\", \"className\", \"showRightBorder\", \"extendRowFullWidth\", \"row\", \"colSpan\", \"disableDragEvents\", \"onClick\", \"onDoubleClick\", \"onMouseDown\", \"onMouseUp\", \"onMouseOver\", \"onKeyDown\", \"onKeyUp\", \"onDragEnter\", \"onDragOver\"];\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_useForkRef as useForkRef, unstable_composeClasses as composeClasses, unstable_ownerDocument as ownerDocument, unstable_capitalize as capitalize } from '@mui/utils';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { GridCellModes } from '../../models';\nimport { useGridApiContext } from '../../hooks/utils/useGridApiContext';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { gridFocusCellSelector } from '../../hooks/features/focus/gridFocusStateSelector';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Based on https://stackoverflow.com/a/59518678\nlet cachedSupportsPreventScroll;\nfunction doesSupportPreventScroll() {\n  if (cachedSupportsPreventScroll === undefined) {\n    document.createElement('div').focus({\n      get preventScroll() {\n        cachedSupportsPreventScroll = true;\n        return false;\n      }\n    });\n  }\n  return cachedSupportsPreventScroll;\n}\nconst useUtilityClasses = ownerState => {\n  const {\n    align,\n    showRightBorder,\n    isEditable,\n    isSelected,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['cell', `cell--text${capitalize(align)}`, isEditable && 'cell--editable', isSelected && 'selected', showRightBorder && 'cell--withRightBorder', 'withBorderColor'],\n    content: ['cellContent']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\nlet warnedOnce = false;\nconst GridCell = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _rootProps$experiment;\n  const {\n      align,\n      children,\n      colIndex,\n      cellMode,\n      field,\n      formattedValue,\n      hasFocus,\n      height,\n      isEditable,\n      isSelected,\n      rowId,\n      tabIndex,\n      value,\n      width,\n      className,\n      showRightBorder,\n      colSpan,\n      disableDragEvents,\n      onClick,\n      onDoubleClick,\n      onMouseDown,\n      onMouseUp,\n      onMouseOver,\n      onKeyDown,\n      onKeyUp,\n      onDragEnter,\n      onDragOver\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const valueToRender = formattedValue == null ? value : formattedValue;\n  const cellRef = React.useRef(null);\n  const handleRef = useForkRef(ref, cellRef);\n  const focusElementRef = React.useRef(null);\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const ownerState = {\n    align,\n    showRightBorder,\n    isEditable,\n    classes: rootProps.classes,\n    isSelected\n  };\n  const classes = useUtilityClasses(ownerState);\n  const publishMouseUp = React.useCallback(eventName => event => {\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n  }, [apiRef, field, onMouseUp, rowId]);\n  const publishMouseDown = React.useCallback(eventName => event => {\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  }, [apiRef, field, onMouseDown, rowId]);\n  const publish = React.useCallback((eventName, propHandler) => event => {\n    // The row might have been deleted during the click\n    if (!apiRef.current.getRow(rowId)) {\n      return;\n    }\n    const params = apiRef.current.getCellParams(rowId, field || '');\n    apiRef.current.publishEvent(eventName, params, event);\n    if (propHandler) {\n      propHandler(event);\n    }\n  }, [apiRef, field, rowId]);\n  const style = {\n    minWidth: width,\n    maxWidth: width,\n    minHeight: height,\n    maxHeight: height === 'auto' ? 'none' : height // max-height doesn't support \"auto\"\n  };\n\n  React.useEffect(() => {\n    if (!hasFocus || cellMode === GridCellModes.Edit) {\n      return;\n    }\n    const doc = ownerDocument(apiRef.current.rootElementRef.current);\n    if (cellRef.current && !cellRef.current.contains(doc.activeElement)) {\n      const focusableElement = cellRef.current.querySelector('[tabindex=\"0\"]');\n      const elementToFocus = focusElementRef.current || focusableElement || cellRef.current;\n      if (doesSupportPreventScroll()) {\n        elementToFocus.focus({\n          preventScroll: true\n        });\n      } else {\n        const scrollPosition = apiRef.current.getScrollPosition();\n        elementToFocus.focus();\n        apiRef.current.scroll(scrollPosition);\n      }\n    }\n  }, [hasFocus, cellMode, apiRef]);\n  let handleFocus = other.onFocus;\n  if (process.env.NODE_ENV === 'test' && (_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.warnIfFocusStateIsNotSynced) {\n    handleFocus = event => {\n      const focusedCell = gridFocusCellSelector(apiRef);\n      if ((focusedCell == null ? void 0 : focusedCell.id) === rowId && focusedCell.field === field) {\n        if (typeof other.onFocus === 'function') {\n          other.onFocus(event);\n        }\n        return;\n      }\n      if (!warnedOnce) {\n        console.warn([`MUI: The cell with id=${rowId} and field=${field} received focus.`, `According to the state, the focus should be at id=${focusedCell == null ? void 0 : focusedCell.id}, field=${focusedCell == null ? void 0 : focusedCell.field}.`, \"Not syncing the state may cause unwanted behaviors since the `cellFocusIn` event won't be fired.\", 'Call `fireEvent.mouseUp` before the `fireEvent.click` to sync the focus with the state.'].join('\\n'));\n        warnedOnce = true;\n      }\n    };\n  }\n  const column = apiRef.current.getColumn(field);\n  const managesOwnFocus = column.type === 'actions';\n  const renderChildren = () => {\n    if (children === undefined) {\n      const valueString = valueToRender == null ? void 0 : valueToRender.toString();\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: classes.content,\n        title: valueString,\n        children: valueString\n      });\n    }\n    if ( /*#__PURE__*/React.isValidElement(children) && managesOwnFocus) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        focusElementRef\n      });\n    }\n    return children;\n  };\n  const draggableEventHandlers = disableDragEvents ? null : {\n    onDragEnter: publish('cellDragEnter', onDragEnter),\n    onDragOver: publish('cellDragOver', onDragOver)\n  };\n  return /*#__PURE__*/_jsx(\"div\", _extends({\n    ref: handleRef,\n    className: clsx(className, classes.root),\n    role: \"cell\",\n    \"data-field\": field,\n    \"data-colindex\": colIndex,\n    \"aria-colindex\": colIndex + 1,\n    \"aria-colspan\": colSpan,\n    style: style,\n    tabIndex: (cellMode === 'view' || !isEditable) && !managesOwnFocus ? tabIndex : -1,\n    onClick: publish('cellClick', onClick),\n    onDoubleClick: publish('cellDoubleClick', onDoubleClick),\n    onMouseOver: publish('cellMouseOver', onMouseOver),\n    onMouseDown: publishMouseDown('cellMouseDown'),\n    onMouseUp: publishMouseUp('cellMouseUp'),\n    onKeyDown: publish('cellKeyDown', onKeyDown),\n    onKeyUp: publish('cellKeyUp', onKeyUp)\n  }, draggableEventHandlers, other, {\n    onFocus: handleFocus,\n    children: renderChildren()\n  }));\n});\nconst MemoizedCell = /*#__PURE__*/React.memo(GridCell);\nprocess.env.NODE_ENV !== \"production\" ? GridCell.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  align: PropTypes.oneOf(['center', 'left', 'right']),\n  cellMode: PropTypes.oneOf(['edit', 'view']),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colIndex: PropTypes.number,\n  colSpan: PropTypes.number,\n  disableDragEvents: PropTypes.bool,\n  field: PropTypes.string,\n  formattedValue: PropTypes.any,\n  hasFocus: PropTypes.bool,\n  height: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  isEditable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  showRightBorder: PropTypes.bool,\n  tabIndex: PropTypes.oneOf([-1, 0]),\n  value: PropTypes.any,\n  width: PropTypes.number\n} : void 0;\nexport { MemoizedCell as GridCell };"]},"metadata":{},"sourceType":"module"}